{extend name="base@base/page_base" /}

{block name="content"}
<form class="form form-horizontal" id="form-datas">
    <input type="hidden" id="id" value="{$role['id']}">
	<div class="row cl">
		<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>角色名称：</label>
		<div class="formControls col-xs-5 col-sm-8">
                    <input type="text" disabled="disabled" class="input-text" id="name" name="name" maxlength="20" value="{$role['name']}" required />
		</div>
	</div>
	<div class="row cl">
		<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>权限列表：</label>
		<div class="formControls col-xs-5 col-sm-8" id="prilist">
                    <ul>
                        <?php foreach ($data_list as $k => $v):
                        // 判断当前角色是否有这个权限 
                            if(strpos(','.$role['pri_ids'].',', ','.$v['id'].',') !== FALSE)
                                $check = 'checked="checked"';
                            else 
                            $check = '';
                        ?>
                                <li level="<?php echo $v['level']; ?>">
                                    <?php echo str_repeat('-', 8*$v['level']); ?>
                                    <input disabled="disabled" <?php echo $check; ?> name="pri_id_list[]" type="checkbox" value="<?php echo $v['id']; ?>" />
                                    <?php echo $v['name']; ?>
                                </li>
                        <?php endforeach; ?>
                    </ul>
		</div>
	</div>
</form>
{/block}
